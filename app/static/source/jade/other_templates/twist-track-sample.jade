div(class="twst-sample-track-main") 
    h1 Record Step
    div(class="twst-spinner" ng-if="!stepTypeOptions")
    form(class="twst-sample-track-main-inputs" ng-show="stepTypeOptions")
        div(class="twst-sample-track-result-message")
            twst-message(message="submissionResultMessage" visible-and-valid="submissionResultVisible")
        p(class="twst-input-label-block") Step Type:
        div(class="btn-group twst-sample-track-step-options-select" dropdown)
            twst-thumb-validation-icon(validation="selectedStepType")
            button(id="single-button" type="button" class="btn btn-primary" dropdown-toggle) {{stepTypeDropdownValue}}&nbsp;
                span(class="caret")
            ul(class="dropdown-menu" role="menu" aria-labelledby="single-button")
                li(role="menuitem" ng-repeat="option in stepTypeOptions")
                    a(ng-click="selectStepType(option)") {{option.text}}
        div(class="twst-sample-track-plate-barcodes")
            div(class="twst-sample-track-plate-barcodes-left")
                p(class="twst-input-label-block")
                    span(ng-if="destinationPlates.length") Source&nbsp;
                    span Plate Barcode:
                div(class="twst-input-label-row" ng-repeat="plate in sourcePlates")
                    input(type="text" class="form-control" ng-model="plate.text" typeahead="barcode for barcode in getTypeAheadBarcodes($index)" typeahead-loading="loadingLocations" typeahead-no-results="noResults")
                    twst-thumb-validation-icon(validation="plate.text")
                    i(ng-show="loadingLocations" class="glyphicon glyphicon-refresh")
                    div(ng-show="noResults")
                      i(class="glyphicon glyphicon-remove") No Results Found
            div(class="twst-sample-track-plate-barcodes-left")
                p(class="twst-input-label-block" ng-class="{'twst-invisible': !destinationPlates.length}") Destination Plate Barcode:
                div(class="twst-input-label-row" ng-repeat="plate in destinationPlates")
                    input(type="text" class="form-control" ng-model="plate.text")
                    twst-thumb-validation-icon(validation="plate.text")
        div(class="twst-sample-track-main-buttons")
            div(class="twst-spinner twst-step-submitting-spinner" ng-if="submittingStep")
            button(class="twst-button twst-blue-button" ng-class="{'twst-disabled-button' : !sampleTrackFormReady()}" ng-click="submitStep()") Submit
            a(class="twst-sample-track-clear-btn" ng-click="clearForm()") Clear Form

